<!DOCTYPE html>
<html>
<head>
  <title>29invest EDU</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h1>29invest EDU - Simulácia investícií</h1>

  <!-- Dashboard -->
  <div>
    <h2>Virtuálne aktíva: <span id="balance">1000</span> €</h2>
    <input type="number" id="investmentAmount" placeholder="Suma (€)">
    <button onclick="invest()">Investovať</button>
    <p id="result"></p>
  </div>

  <!-- Graf výnosov -->
  <canvas id="profitChart"></canvas>

  <script>
    let virtualBalance = 1000;

    function invest() {
      const amount = parseFloat(document.getElementById("investmentAmount").value);
      if (amount > virtualBalance) {
        alert("Nedostatok prostriedkov!");
        return;
      }

      // Simulácia náhodného výnosu (-10% až +15%)
      const profit = amount * (Math.random() * 0.25 - 0.10);
      virtualBalance += profit;

      document.getElementById("balance").textContent = virtualBalance.toFixed(2);
      document.getElementById("result").innerHTML = 
        `Výnos: ${profit.toFixed(2)} € | Nový zostatok: ${virtualBalance.toFixed(2)} €`;

      updateChart();
    }

    // Graf
    let chart;
    function updateChart() {
      if (chart) chart.destroy();
      const ctx = document.getElementById('profitChart').getContext('2d');
      chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['Deň 1', 'Deň 2', 'Deň 3', 'Deň 4'],
          datasets: [{
            label: 'Virtuálne aktíva',
            data: [1000, virtualBalance + 50, virtualBalance - 30, virtualBalance],
            borderColor: 'blue'
          }]
        }
      });
    }
    updateChart(); // Prvotné vykreslenie
  </script>
</body>
</html>
